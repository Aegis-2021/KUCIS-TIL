## 현재 문제

### 1. 데이터 문제

악성메일을 크게 네가지 유형으로 나눠보았다.

1. 단순 광고 메일
2. 악성코드가 첨부파일로 포함된 메일
3. 유해한 사이트 URL이 포함된 메일
4. 보는 것만으로 공격 당하는 메일

1번 유형의 경우, 법적인 문제로 메일 제목 맨 앞에 `(광고)` 표시가 붙어있어야한다. 따라서 굳이 머신러닝으로 학습시킬 필요가 없다.

2번 유형의 경우, 우선 데이터가 없다. 자문을 통해 MNIST 데이터를 구한게 있긴 하지만 악성코드의 어떤 부분을 데이터화한 건지 알 수 없다. 따라서 새로운 악성코드를 MNIST로 변환하기가 어렵다. 만약 악성메일에서 악성코드를 추출해 MNIST로 성공적으로 변환했다고 하더라도, 과거의 데이터만을 학습시킨 모델이 새로운 악성코드를 악성코드라고 판단할 수 있을까?

3번 유형의 경우, 역시 데이터가 없다. 접속만으로 감염이 되는 취약점들은 이미 다 막혔다. 어찌저찌 사이트 한 두개를 찾아낸다고 해도, 학습을 하려면 최소 수천개에서 수만개의 데이터가 필요하다.

4번 유형의 경우, 보통 XSS 공격이라고 알고 있는데, 이것도 데이터가 없다. 찾아보니 과거에는 어도비 플래시의 취약점을 이용했다고도 한다. 하지만 지금은 3번과 같이 이미 다 막혀있다.

### 2. 능력 문제

만약 데이터 문제가 해결된다고 해도, 그 데이터를 분석하고 잘 전처리해서 성공적으로 학습시킬 수 있느냐는 별개의 문제이다. 이 경우 머신러닝 기술도 필요하지만 보안 관련 지식도 상당히 높아야한다.

### 3. 실효성 문제

위 두 문제가 해결된다고 해도, 실효성 문제가 남아있다. 어떻게든 데이터를 구해서 학습이 성공적으로 완료되었다고 하자. 그러면 학습이 진짜 잘 되었는지 어떻게 확인할 것인가?

문제의 핵심은 우리가 찾을 수 있는 데이터는 이미 도태된 데이터라는 것이다.

학습은 어찌되었건 과거의 데이터 이용하는 것이다. 모델에게 이미 학습에 사용했었던, 또는 과거에 유행했었던 데이터를 던져주고 "이건 악성 메일이네요" 라는 답변을 들어봤자 미래에 다가올 새로운 기법, 새로운 형태를 가진 악성 메일도 인식할 수 있을까? 사실 새로운 형태는커녕 현재 널리 퍼지고 있는 악성 메일 데이터조차 없어서 모델이 잘 작동하는지 검증할 수 없다.

모델이 잘 작동한다고 해도 바이러스 토탈이나 운영체제 방화벽, 인터넷 익스플로러, Edge, 크롬과 같은 프로그램 위에서 쓸 수 있을 만큼 강력할까? 다시말해 저런 서비스들이 막을 수 없는 취약점을 우리가 만든 모델이 막을 수 있을까?

## 해결책

1. 데이터를 직접 만든다. (개인적인 생각으로는 불가능하다)
2. 타협해서 과거 데이터만으로 학습하고, 과거 데이터로 검증하고 끝낸다. 즉 가지고 있는 MNIST 데이터를 학습시키고 그 데이터로 학습이 잘 되었는지 확인한다.
3. 주제를 바꾼다.